$(function(){function t(){var t={},n=$("#text-asset").val(),s=$("#text-acces").val(),l=$("#text-warranty").val(),m=$("#text-remark").val();n!==e&&(t.FixedAssetNO=n),s!==i&&(t.Accessories=s),l!==d&&(t.warranty=l),m!==a&&(t.remark=m),$.isEmptyObject(t)?($("#td-asset").html(e),$("#td-acces").html(i),$("#td-warranty").html(d),$("#td-remark").html(a),$("#btn-edit").text("Edit"),$("#btn-save").remove()):$.post(window.location.pathname,t,function(t){"successful"===t?($("#td-asset").html(n),$("#td-acces").html(s),$("#td-warranty").html(l),$("#td-remark").html(m),$("#btn-edit").text("Edit"),$("#btn-save").remove(),$("#edit-success").css({position:"fixed",bottom:"300px",left:(window.screen.width-300)/2+"px","font-size":"3em","padding":"50px"}).fadeIn("fast",function(){$(this).delay(1e3).fadeOut("slow")})):$("#edit-failed").css({position:"fixed",bottom:"300px",left:(window.screen.width-300)/2+"px","font-size":"3em","padding":"50px"}).fadeIn("fast",function(){$(this).delay(1e3).fadeOut("slow")})})}var e="",i="",d="",a="";$("#btn-edit").on("click",function(){"Edit"===$("#btn-edit").text()?($("tr").each(function(t,n){"FixedAssetNO"===$(n).find("th").text()?(elem=$(n).find("td"),elem.attr("id","td-asset"),e=elem.text(),elem.html('<input id="text-asset" style="width:500px;height:32px;font-size:16px;" type="text" value="'+e+'" />')):"Accessories"===$(n).find("th").text()?(elem=$(n).find("td"),elem.attr("id","td-acces"),i=elem.text(),elem.html('<input id="text-acces" style="width:500px;height:32px;font-size:16px;" type="text" value="'+i+'" />')):"warranty"===$(n).find("th").text()?(elem=$(n).find("td"),elem.attr("id","td-warranty"),d=elem.text(),elem.html('<input id="text-warranty" style="width:500px;height:32px;font-size:16px;" type="date" value="'+d+'" />')):"remark"===$(n).find("th").text()&&(elem=$(n).find("td"),elem.attr("id","td-remark"),a=elem.text(),elem.html('<input id="text-remark" style="width:500px;height:32px;font-size:16px;" type="text" value="'+a+'" />')),$("#btn-edit").text("Cancel")}),$(this).after('&nbsp;&nbsp;<button id="btn-save" class="btn btn-success btn-size" onclick="updateInfo()">Save</button>')):($("#btn-edit").text("Edit"),$("#td-asset").html(e),$("#td-acces").html(i),$("#td-warranty").html(d),$("#td-remark").html(a),$("#btn-save").remove())}),window.updateInfo=t});